{"version":3,"sources":["../../../../../src/plugin/collections/users/hooks/on-verified-change.ts"],"sourcesContent":["import { CollectionBeforeChangeHook } from 'payload'\n\nexport const onVerifiedChange: CollectionBeforeChangeHook = async ({ data, originalDoc }) => {\n  const isVerifiedChangingToTrue = Boolean(data._verified) && !originalDoc?._verified\n  const isEmailVerifiedChangingToTrue = Boolean(data.emailVerified) && !originalDoc?.emailVerified\n\n  if (!isVerifiedChangingToTrue && !isEmailVerifiedChangingToTrue) {\n    return data\n  }\n\n  return {\n    ...data,\n    _verified: true,\n    emailVerified: true,\n  }\n}\n"],"names":["onVerifiedChange","data","originalDoc","isVerifiedChangingToTrue","Boolean","_verified","isEmailVerifiedChangingToTrue","emailVerified"],"mappings":"AAEA,OAAO,MAAMA,mBAA+C,OAAO,EAAEC,IAAI,EAAEC,WAAW,EAAE;IACtF,MAAMC,2BAA2BC,QAAQH,KAAKI,SAAS,KAAK,CAACH,aAAaG;IAC1E,MAAMC,gCAAgCF,QAAQH,KAAKM,aAAa,KAAK,CAACL,aAAaK;IAEnF,IAAI,CAACJ,4BAA4B,CAACG,+BAA+B;QAC/D,OAAOL;IACT;IAEA,OAAO;QACL,GAAGA,IAAI;QACPI,WAAW;QACXE,eAAe;IACjB;AACF,EAAC"}