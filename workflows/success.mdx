---
$type: Workflow
name: Customer Success
description: Nurture a customer's journey from initial signup and exploration to implementation and retention
---

export const onUserSignup = async ({ ai, api, db, event }) => {

  const { name, email, company } = event

  // Enrich content details with lookup from external data sources 
  const enrichedContact = await api.apollo.search({ name, email, company })
  const socialProfiles = await api.peopleDataLabs.findSocialProfiles({ name, email, company })
  const githubProfile = socialProfiles.github ? await api.github.profile({ name, email, company }) : undefined

  // Using the enriched contact details, do deep research on the company and personal background
  const companyProfile = await ai.researchCompany({ company })
  const personalProfile = await ai.researchPersonalBackground({ name, email, enrichedContact })
  const socialActivity = await ai.researchSocialActivity({ name, email, enrichedContact, socialProfiles })
  const githubActivity = githubProfile ? await ai.summarizeGithubActivity({ name, email, enrichedContact, githubProfile }) : undefined

  // Schedule a highly personalized sequence of emails to optimize onboarding and activation
  const emailSequence = await ai.personalizeEmailSequence({ name, email, company, personalProfile, socialActivity, companyProfile, githubActivity })
  await api.scheduleEmails({ emailSequence })

  // Summarize everything, save to the database, and post to Slack
  const summary = await ai.summarizeContent({ name, email, company, enrichedContact, socialProfiles, githubProfile, companyProfile, personalProfile, socialActivity, githubActivity, emailSequence })
  const { url } = await db.customer.create({ name, email, company, summary, enrichedContact, socialProfiles, githubProfile, companyProfile, personalProfile, socialActivity, githubActivity, emailSequence })
  await api.slack.postMessage({ channel: '#signups', content: { name, email, company, summary, url } })

}



# Customer Success

## Backlog

- [ ] Connect after initial signup

